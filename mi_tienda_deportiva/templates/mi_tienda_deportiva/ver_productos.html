<!DOCTYPE html>
<html lang="es">
    {% load static %}
<head>
    <meta charset="UTF-8">
    <title>Ver Productos</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #e7f1f8; margin: 0; padding: 0; }
        h1 { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { border: 1px solid #ccc; padding: 10px; text-align: left; }
        th { background-color: #0077cc; color: white; }
        .volver { text-align: center; margin: 20px; }
    </style>
</head>
<body>
<header><h1>Productos</h1></header>
<main>
    <table>
        <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Descripción</th>
            <th>Precio</th>
            <th>Stock</th>
            <th>Categoría</th>
            <th>Imagen</th>
        </tr>
        {% for p in productos %}
        <tr>
            <td>{{ p.producto_id }}</td>
            <td>{{ p.nombre }}</td>
            <td>{{ p.descripción }}</td>
            <td>{{ p.precio }}</td>
            <td>{{ p.cantidad_en_stock }}</td>
            <td>{{ p.categoria.nombre }}</td>
            <td>
                {% if p.imagen %}
                    <img src="{% static 'productos/' %}{{ p.imagen }}" alt="Imagen de {{ p.nombre }}" width="100">
                {% else %}
                    Sin imagen
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </table>
    <div class="volver"><a href="{% url 'admin_dashboard' %}">Volver</a></div>
    {% if productos %}
        <p>Total de productos: {{ productos|length }}</p>
    {% else %}
        <p>No hay productos registrados.</p>
    {% endif %}
</main>
</body>
</html>
